# -*- coding: utf-8 -*-
"""BA_final_project_Team13.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1EcK-EfCp_IGK1Efx7TMmhyARBeqfWV26
"""

import pandas as pd
import matplotlib
import matplotlib.pyplot as plt
import seaborn as sns

from google.colab import files
uploaded = files.upload()

df = pd.read_csv("UCI_Credit_Card.csv")

df.head()

df.describe()

df.shape

total = df.isnull().sum().sort_values(ascending = False)
print(total)

temp = df["default.payment.next.month"].value_counts()
df_1 = pd.DataFrame({'default.payment.next.month': temp.index,'count': temp.values})
plt.figure(figsize = (6,6))
plt.title('Default Credit Card Clients - target value - data unbalance\n (Not Default = 0, Default = 1)')
sns.set_color_codes("pastel")
sns.barplot(x = 'default.payment.next.month', y="count", data=df_1)
locs, labels = plt.xticks()
plt.show()

a4_dims = (14, 6)
fig, ax = plt.subplots(figsize=a4_dims)
sns.countplot(df['AGE'],ax=ax, color="blue")

a5_dims = (65, 10)
fig, ax = plt.subplots(figsize=a5_dims)
sns.countplot(df['LIMIT_BAL'],ax=ax)



df['LIMIT_BAL'].value_counts().head(5)

list(df)

df['SEX'].unique()
df['EDUCATION'].unique()
df['PAY_5'].unique()

X_eda = df.loc[:,df.columns.drop(['default.payment.next.month'])]
X_eda.head()

def plot(col):
    plt.figure(figsize = (10,5))
    ax= sns.displot(X_eda, x=col)
    plt.show()

for col in list(X_eda.columns):
   plot(col)

# Distribution
fig = plt.figure(figsize=(100,100))
ax = fig.gca()
fig_1 = df.hist(ax=ax, layout=(5,5), xlabelsize=35, ylabelsize=35, bins=50)
[x.title.set_size(40) for x in fig_1.ravel()]
plt.show()

from typing import ChainMap


plt.figure(figsize = (30,20))
plt.xticks(size = 15)
plt.yticks(size = 15)
sns.heatmap(X_eda.corr(), center= 0.0, annot = True, cmap="vlag")
plt.show()